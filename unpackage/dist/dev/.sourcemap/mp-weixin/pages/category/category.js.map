{"version":3,"sources":["uni-app:///main.js","webpack:///D:/project/shop-mini/pages/category/category.vue?7a95","webpack:///D:/project/shop-mini/pages/category/category.vue?0674","webpack:///D:/project/shop-mini/pages/category/category.vue?86d4","webpack:///D:/project/shop-mini/pages/category/category.vue?dc9a","uni-app:///pages/category/category.vue","webpack:///D:/project/shop-mini/pages/category/category.vue?6e22","webpack:///D:/project/shop-mini/pages/category/category.vue?9da1","webpack:///D:/project/shop-mini/pages/category/category.vue?37a6","webpack:///D:/project/shop-mini/pages/category/category.vue?605a"],"names":["createPage","Page"],"mappings":"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","file":"pages/category/category.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/category/category.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./category.vue?vue&type=template&id=682a9774&scoped=true&\"\nvar renderjs\nimport script from \"./category.vue?vue&type=script&lang=js&\"\nexport * from \"./category.vue?vue&type=script&lang=js&\"\nimport style0 from \"./category.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./category.vue?vue&type=style&index=1&id=682a9774&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"682a9774\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/category/category.vue\"\nexport default component.exports","export * from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=template&id=682a9774&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-navbar/u-navbar\" */ \"uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uSearch: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-search/u-search\" */ \"uview-ui/components/u-search/u-search.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.plist, function(titem, index) {\n    var $orig = _vm.__get_orig(titem)\n\n    var l0 = _vm.__map(titem.pic_arr, function(items, index) {\n      var $orig = _vm.__get_orig(items)\n\n      var g0 = index == 0 ? items.path.substr(1) : null\n      return {\n        $orig: $orig,\n        g0: g0\n      }\n    })\n\n    return {\n      $orig: $orig,\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- <view class=\"navhead\">\r\n\t\t\t<view class=\"nav\" @click=\"routeAbout()\">\r\n\t\t\t\t<u-icon size=\"28\" name=\"/static/img/3258.png\" class=\"footIcon\"></u-icon>\r\n\t\t\t</view>\r\n\t\t\t<text class=\"title\">全部分类</text>\r\n\t\t\t<view class=\"search_box\">\r\n\t\t\t\t<u-search placeholder=\"搜索活动或者商家\" :clearabled=\"true\" :show-action=\"false\" border-color=\"#ffffff\"\r\n\t\t\t\t\tsearch-icon=\"/static/img/23.png\" search-icon-color=\"#FFFFFF\" bg-color=\"#ffffff\"\r\n\t\t\t\t\tinput-align=\"center\" placeholder-color=\"#B1B1B1\" color=\"#B1B1B1\">\r\n\t\t\t\t</u-search>\r\n\t\t\t</view>\r\n\t\t</view> -->\r\n\t\t<u-navbar class=\"navhead\" back-text=\"全部分类\" back-icon-color=\"#000000\" :back-text-style=\"{color:'#000000'}\"\r\n\t\t\t:border-bottom=\"false\">\r\n\t\t\t<view class=\"search_box\">\r\n\t\t\t\t<u-search placeholder=\"搜索产品\" :clearabled=\"true\" :show-action=\"false\" border-color=\"#ffffff\"\r\n\t\t\t\t\tsearch-icon=\"/static/img/23.png\" search-icon-color=\"#FFFFFF\" bg-color=\"#ffffff\" input-align=\"center\"\r\n\t\t\t\t\tplaceholder-color=\"#B1B1B1\" color=\"#B1B1B1\" v-model=\"keywords\" @search=\"goSearch\">\r\n\t\t\t\t</u-search>\r\n\t\t\t</view>\r\n\t\t</u-navbar>\r\n\t\t<view class=\"content\">\r\n\t\t\t<view class=\"leftside\">\r\n\t\t\t\t<scroll-view scroll-y class=\"left-aside\">\r\n\t\t\t\t\t<view class=\"f-item b-b\" :class=\"{active: item.category_id === currentId,before: item.category_id === currentBeforeId,after: item.category_id === currentAfterId}\" v-for=\"(item,index) in flist\" :key=\"item.category_id\" @click=\"tabtap(item,index)\">\r\n\t\t\t\t\t\t<text>{{item.title}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t\t<scroll-view scroll-y class=\"left-asides\" v-if=\"show\">\r\n\t\t\t\t\t<view class=\"f-items\" :class=\"{active: items.category_id === currentIds}\" v-for=\"(items,index) in clist\" :key=\"items.category_id\" @click=\"tabtap(items,index,1)\">\r\n\t\t\t\t\t\t<text>{{items.title}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t\t<scroll-view scroll-with-animation scroll-y class=\"right-aside\">\r\n\t\t\t\t<view class=\"t-list\">\r\n\t\t\t\t\t<view @click=\"navToList(titem.id)\" class=\"t-item\" v-for=\"(titem,index) in plist\" :key=\"titem.id\">\r\n\t\t\t\t\t\t<view class=\"imgwrap\" v-for=\"(items,index) in titem.pic_arr\" :key=\"index\" v-if=\"index==0\">\r\n\t\t\t\t\t\t\t<image :src=\"items.domain+items.path.substr(1)\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"name\">{{titem.title}}</text>\r\n\t\t\t\t\t\t<view class=\"price_wrap\">\r\n\t\t\t\t\t\t\t<view class=\"picebox\" v-for=\"(items,index) in titem.sku_arr\" :key=\"index\" v-if=\"index==0\">\r\n\t\t\t\t\t\t\t\t<text>￥{{items.price}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<button type=\"default\" class=\"btn_cart\" @click.stop=\"addCart(titem)\">\r\n\t\t\t\t\t\t\t\t<u-icon size=\"22\" name=\"/static/img/icon_cart.png\" class=\"footIcon\"></u-icon>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<loadMore :status=\"status\" :show=\"loadShow\"></loadMore>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t<view class=\"de_btn_bar\">\r\n\t\t\t<view class=\"icon_cart icon_bar\" @click=\"goCart\">\r\n\t\t\t\t<u-icon size=\"40\" name=\"/static/img/tab_cart.png\"></u-icon>\r\n\t\t\t\t<text>购物车</text>\r\n\t\t\t\t<text class=\"num\" v-if=\"cartnum>0\">{{cartnum}}</text>\r\n\t\t\t</view>\r\n\t\t\t<button type=\"default\" class=\"btn_cart\" @click=\"goCart\" v-if=\"hasLogin=='true'\">{{totalPrice}} 去支付</button>\r\n\t\t\t<button type=\"default\" class=\"btn_cart\" @click=\"goLogin\" v-else>立即登录</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { mapMutations } from 'vuex';\r\n\timport loadMore from '@/components/loadmore.vue'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tloadMore\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcurrentId: 0,\r\n\t\t\t\tcurrentBeforeId:0,\r\n\t\t\t\tcurrentAfterId:0,\r\n\t\t\t\tcurrentIds: 0, //二级分类选中\r\n\t\t\t\tflist: [], //一级分类\r\n\t\t\t\tclist: [], //二级分类\r\n\t\t\t\tplist: [], //产品列表\r\n\t\t\t\tselectFoods: [],\r\n\t\t\t\tshow: false,\r\n\t\t\t\tkeywords:\"\",\r\n\t\t\t\tcateid:0,\r\n\t\t\t\tstatus: 'loading',\r\n\t\t\t\tpage:1,\r\n\t\t\t\tlimit:10,\r\n\t\t\t\ttotal:0,\r\n\t\t\t\tloadShow:false,\r\n\t\t\t\tcartnum:0,\r\n\t\t\t\thasLogin:true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\ttotalPrice() {\r\n\t\t\t\tlet total = 0;\r\n\t\t\t\tthis.selectFoods.forEach((food) => {\r\n\t\t\t\t\ttotal += food.price * food.count\r\n\t\t\t\t})\r\n\t\t\t\treturn total==0?\"\":\"￥\"+total.toFixed(2);\r\n\t\t\t},\r\n\t\t\ttotalCount() {\r\n\t\t\t\tlet total = 0;\r\n\t\t\t\tthis.selectFoods.forEach((food) => {\r\n\t\t\t\t\ttotal += food.count\r\n\t\t\t\t})\r\n\t\t\t\treturn total;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['storehasLogin']),\r\n\t\t\trouteAbout() {\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t},\r\n\t\t\t//登录\r\n\t\t\tgoLogin(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/pages/login/login\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync loadData() {\r\n\t\t\t\tthis.$api.http.getCategory().then(res => {\r\n\t\t\t\t\tlet list = res.data;\r\n\t\t\t\t\tthis.flist = list;\r\n\t\t\t\t});\r\n\t\t\t\tthis.getcart();\r\n\t\t\t},\r\n\t\t\tasync getplist(){\r\n\t\t\t\tthis.$api.http.getProductlist(0,this.page,this.limit,this.keywords,this.cateid).then(res => {\r\n\t\t\t\t\tif(res.code == 200){\r\n\t\t\t\t\t\tthis.plist = this.plist.concat(res.data.data);\r\n\t\t\t\t\t\tthis.total = res.data.total;\r\n\t\t\t\t\t\tif(res.data.data.length<=this.total && this.page==1){\r\n\t\t\t\t\t\t\tthis.status = 'nomore';\r\n\t\t\t\t\t\t\tthis.loadShow = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(res.data.data.length == 0) {\r\n\t\t\t\t\t\t\tthis.status = 'nomore';\r\n\t\t\t\t\t\t\tthis.loadShow = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tqueryData(){\r\n\t\t\t\tthis.page = 1;\r\n\t\t\t\tthis.plist = [];\r\n\t\t\t\tthis.getplist();\r\n\t\t\t},\r\n\t\t\t//一级分类点击\r\n\t\t\ttabtap(item,index,type) {\r\n\t\t\t\t// let index = this.clist.findIndex(sitem => sitem.pid === item.category_id);\r\n\t\t\t\tif(type==1){\r\n\t\t\t\t\tthis.currentIds = item.category_id;\r\n\t\t\t\t\tthis.cateid = item.category_id;\r\n\t\t\t\t\tthis.show = false;\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tthis.plist = [];\r\n\t\t\t\t\t\tthis.getplist();\r\n\t\t\t\t\t},1000)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.currentId = item.category_id;\r\n\t\t\t\t\tthis.currentBeforeId = index > 0 ? this.flist[index - 1].category_id : 0;\r\n\t\t\t\t\tindex < this.flist.length - 1 ? this.currentAfterId = this.flist[index + 1].category_id : this.currentAfterId = 0;\r\n\t\t\t\t\tthis.cateid = item.category_id;\r\n\t\t\t\t\tthis.clist = [];\r\n\t\t\t\t\tif(item.children){\r\n\t\t\t\t\t\tthis.clist = item.children;\r\n\t\t\t\t\t\tthis.show = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.plist = [];\r\n\t\t\t\t\t\tthis.getplist();\r\n\t\t\t\t\t\tthis.show = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoSearch(){\r\n\t\t\t\tthis.page = 1;\r\n\t\t\t\tthis.plist = [];\r\n\t\t\t\tthis.getplist();\r\n\t\t\t},\r\n\t\t\tnavToList(sid) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pages/detail/detail\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//获取购物车数量\r\n\t\t\tgetcart(){\r\n\t\t\t\tthis.$api.http.cartList().then((res) => {\r\n\t\t\t\t\tif(res.code == 200){\r\n\t\t\t\t\t\tthis.cartnum = res.data.total;\r\n\t\t\t\t\t}else if(res.code==402){\r\n\t\t\t\t\t\tthis.hasLogin = false;\r\n\t\t\t\t\t\tthis.storehasLogin(\"false\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//跳转购物车\r\n\t\t\tgoCart() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pages/shopCat/shopCat\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//加入购物车\r\n\t\t\taddCart(item) {\r\n\t\t\t\tthis.$api.http.addCart(item.id,item.sku_arr[0].sku_id,1).then((res) => {\r\n\t\t\t\t\tif(res.code == 200){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:\"加入购物车成功\",\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// this.getCartnum(item);\r\n\t\t\t\t\t\tthis.getcart();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'请立即登录',\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetCartnum(item){\r\n\t\t\t\t// 每次添加都清零，防止重复添加\r\n\t\t\t\tlet totalCount = 0;\r\n\t\t\t\tlet totalPrice = 0;\r\n\t\t\t\t// 定义isHave判断这个商品是否已经存在于订单列表\r\n\t\t\t\tlet isHave = false;\r\n\t\t\t\t// tableData循环\r\n\t\t\t\tfor (let i = 0; i < this.selectFoods.length; i++) {\r\n\t\t\t\t\tif (this.selectFoods[i].id == item.id) {\r\n\t\t\t\t\t\tisHave = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// 根据判断的值写业务逻辑\r\n\t\t\t\tif (isHave) {\r\n\t\t\t\t\t// 改变列表中的商品数量\r\n\t\t\t\t\t// 通过filter过滤tableData\r\n\t\t\t\t\tlet arr = this.selectFoods.filter(o => o.id == item.id);\r\n\t\t\t\t\tarr[0].count++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 构造一个newGoods\r\n\t\t\t\t\tlet newGoods = {\r\n\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\tprice: item.sku_arr[0].price,\r\n\t\t\t\t\t\tskuid: item.sku_arr[0].sku_id,\r\n\t\t\t\t\t\tcount: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.selectFoods.push(newGoods);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tthis.cateid = options.id;\r\n\t\t\tthis.currentId = parseInt(options.id);\r\n\t\t\tthis.loadData();\r\n\t\t\tthis.getplist();\r\n\t\t},\r\n\t\tonShow(){\r\n\t\t\tdocument.title = '批发商城';\r\n\t\t},\r\n\t\t//上拉加载\r\n\t\tonReachBottom(){\r\n\t\t\tif (this.status == 'nomore'){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.loadShow = true;\r\n\t\t\tthis.status = 'loading';\r\n\t\t\tthis.page ++;\r\n\t\t\tthis.getplist();\r\n\t\t},\r\n\t\t//下拉刷新\r\n\t\tonPullDownRefresh(){\r\n\t\t\tuni.stopPullDownRefresh();\r\n\t\t\tthis.list = [];\r\n\t\t\tthis.goSearch();\r\n\t\t},\r\n\t\t//监听返回\r\n\t\tonBackPress(e){\r\n\t\t  uni.navigateTo({\r\n\t\t    url:\"/pages/DailyWholesale/DailyWholesale\"\r\n\t\t  })\r\n\t\t  return true;\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang='scss'>\r\n\tpage {\r\n\t\tbackground: #ffffff;\r\n\t\theight: 100%;\r\n\t}\r\n</style>\r\n\r\n<style lang='scss' scoped>\r\n\t.container {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.content {\r\n\t\tdisplay: flex;\r\n\t\theight: calc(100% - 88rpx);\r\n\t}\r\n\r\n\t.navhead {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\t/* padding: 16rpx 48rpx;\r\n\t\tbackground:#fff;\r\n\t\tposition: fixed;\r\n\t\ttop:0;\r\n\t\tleft:0;\r\n\t\tz-index: 50; */\r\n\t\twidth: 100%;\r\n\r\n\t\t.nav {\r\n\t\t\tdisplay: flex;\r\n\t\t}\r\n\r\n\t\t.title {\r\n\t\t\tmargin-left: 20rpx;\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\tcolor: #000000;\r\n\t\t}\r\n\r\n\t\t.search_box {\r\n\t\t\tmargin: 0 24rpx;\r\n\t\t\tflex: 1;\r\n\t\t\tborder: 2rpx solid #eeeeee;\r\n\t\t\tborder-radius: 31rpx;\r\n\r\n\t\t\t/deep/.u-input {\r\n\t\t\t\tfont-size: 22rpx;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t.leftside {\r\n\t\tposition: relative;\r\n\t\t&::before{\r\n\t\t\tcontent: \"\";\r\n\t\t\twidth:168rpx;\r\n\t\t\theight: 100%;\r\n\t\t\tbackground: #f6f6f6;\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom:0;\r\n\t\t\tleft:0;\r\n\t\t}\r\n\t}\r\n\r\n\t.left-aside {\r\n\t\tflex-shrink: 0;\r\n\t\twidth: 168rpx;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.left-asides {\r\n\t\tflex-shrink: 0;\r\n\t\twidth: 168rpx;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-top-right-radius: 40rpx;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 168rpx;\r\n\t\tz-index: 20;\r\n\t}\r\n\r\n\t.f-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 100%;\r\n\t\theight: 100rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #707070;\r\n\t\tposition: relative;\r\n\t\tbackground: #f6f6f6;\r\n\r\n\t\t&.active {\r\n\t\t\tcolor: #141313;\r\n\t\t\tbackground: #ffffff;\r\n\r\n\t\t\t&::before {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t\twidth: 8rpx;\r\n\t\t\t\tbackground-color: #ff9d00;\r\n\t\t\t\tborder-radius: 0 4px 4px 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t&.before{\r\n\t\t    border-radius: 0 0 20rpx 0;\r\n\t\t}\r\n\t\t&.after{\r\n\t\t    border-radius: 0 20rpx 0 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.f-items {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 100%;\r\n\t\theight: 100upx;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #141313;\r\n\t\tposition: relative;\r\n\t\t&.active{\r\n\t\t\tcolor:#ff9d00;\r\n\t\t}\r\n\t}\r\n\r\n\t.right-aside {\r\n\t\tflex: 1;\r\n\t\toverflow: hidden;\r\n\t\tpadding: 0 38rpx;\r\n\t}\r\n\r\n\t.t-list {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\twidth: 100%;\r\n\t\tbackground: #fff;\r\n\t\tpadding-top: 24rpx;\r\n\r\n\t\t&:after {\r\n\t\t\tcontent: '';\r\n\t\t\tflex: 99;\r\n\t\t\theight: 0;\r\n\t\t}\r\n\r\n\t\t.t-item {\r\n\t\t\tflex-shrink: 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\twidth: 48%;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #141313;\r\n\t\t\tpadding-bottom: 20rpx;\r\n\t\t\t.imgwrap{\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 230rpx;\r\n\t\t\t\tbackground:#eeeeee;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tmargin-bottom: 14rpx;\r\n\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.name {\r\n\t\t\t\tmargin-bottom: 4rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.price_wrap {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #FF9D00;\r\n\r\n\t\t\t\t.btn_cart {\r\n\t\t\t\t\twidth: auto;\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\tline-height: 40rpx;\r\n\t\t\t\t\tbackground: #FF9D00;\r\n\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\tpadding: 0 26rpx;\r\n\t\t\t\t\tmargin: 0;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&:nth-child(odd) {\r\n\t\t\t\tmargin-right: 4%;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.de_btn_bar {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 50;\r\n\t\twidth: 100%;\r\n\t\theight: 88rpx;\r\n\t\tbackground: #ffffff;\r\n\t\tbox-shadow: 0px -1px 1px 0px rgba(0, 0, 0, 0.16);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\r\n\t\t.icon_bar {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tfont-size: 20rpx;\r\n\t\t\tcolor: #B1B1B1;\r\n\t\t\tmargin-left: 44rpx;\r\n\t\t}\r\n\r\n\t\t.icon_cart {\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.num {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbackground: #ff9d00;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tpadding: 0 10rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.btn_cart {\r\n\t\t\tmargin-left: 84rpx;\r\n\t\t\tmargin-right: 52rpx;\r\n\t\t\tflex: 1;\r\n\t\t\theight: 70rpx;\r\n\t\t\tline-height: 70rpx;\r\n\t\t\tbackground: #ff9d00;\r\n\t\t\tborder: 0;\r\n\t\t\tborder-radius: 36rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #fff;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1625019733675\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=style&index=1&id=682a9774&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=style&index=1&id=682a9774&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1625019733668\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}